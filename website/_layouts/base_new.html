<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/xhtml" xmlns:fb="http://ogp.me/ns/fb#">

    <!-- Reddit Conversion Pixel -->
    <script>
        var i=new Image();i.src="https://alb.reddit.com/snoo.gif?q=CAAHAAABAAoACQAAAAn4rjRiAA==&s=5R25u9okLg159vapE7RlknmqSZqPgOjYeOmUTgsVT3Q=";
    </script>
    <noscript>
        <img height="1" width="1" style="display:none"
             src="https://alb.reddit.com/snoo.gif?q=CAAHAAABAAoACQAAAAn4rjRiAA==&s=5R25u9okLg159vapE7RlknmqSZqPgOjYeOmUTgsVT3Q="/>
    </noscript>
    <!-- DO NOT MODIFY -->
    <!-- End Reddit Conversion Pixel -->

    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta property="og:image" content="/assets/images/og-thumbnail.png" />
        {% seo %}
        <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
        <title>{{ page.title }}&mdash;{{ site.title }}</title>
        <!-- Google Analytics -->
        <script>
            window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
            ga('create', 'UA-80656237-2', 'auto');
            ga('send', 'pageview');
        </script>

        <!-- Facebook Pixel Code -->
        <script>
            !function(f,b,e,v,n,t,s)
            {if(f.fbq)return;n=f.fbq=function(){n.callMethod?
                                                n.callMethod.apply(n,arguments):n.queue.push(arguments)};
                if(!f._fbq)f._fbq=n;n.push=n;n.loaded=!0;n.version='2.0';
                n.queue=[];t=b.createElement(e);t.async=!0;
                t.src=v;s=b.getElementsByTagName(e)[0];
                s.parentNode.insertBefore(t,s)}(window, document,'script',
                                                'https://connect.facebook.net/en_US/fbevents.js');
            fbq('init', '514493975582306');
            fbq('track', 'PageView');
        </script>
        <noscript><img height="1" width="1" style="display:none"
                       src="https://www.facebook.com/tr?id=514493975582306&ev=PageView&noscript=1"
                  /></noscript>
        <!-- End Facebook Pixel Code -->


        <!-- Hotjar Tracking Code for halite.io -->
        <script>
            (function(h,o,t,j,a,r){
                h.hj=h.hj||function(){(h.hj.q=h.hj.q||[]).push(arguments)};
                h._hjSettings={hjid:629189,hjsv:6};
                a=o.getElementsByTagName('head')[0];
                r=o.createElement('script');r.async=1;
                r.src=t+h._hjSettings.hjid+j+h._hjSettings.hjsv;
                a.appendChild(r);
            })(window,document,'https://static.hotjar.com/c/hotjar-','.js?sv=');

            function handleOutboundLinkClicks(category, action, label) {
                ga('send', 'event', {
                    eventCategory: category,
                    eventAction: action,
                    eventLabel: label
                });
            }

        </script>


        <script>
            function check()
            {
                handleOutboundLinkClicks('subscribe','click-to-subscribe','footer')
                if(!document.getElementById("tmpid").checkValidity())
                    {
                        document.getElementById("status").style.color = "red"
                        document.getElementById("status").textContent = "Please enter a valid email."
                        handleOutboundLinkClicks('subscribe-error','click-to-subscribe','footer')
                    }
                else
                    {
                        let content = document.getElementById("tmpid").value
                        const xhr = new XMLHttpRequest()
                        var url = "{{ site.api_server_url }}/user/addsubscriber/" + content
                        xhr.open("POST", url, true)
                        xhr.send()
                        document.getElementById("status").style.color = "green"
                        document.getElementById("status").textContent = "You are subscribed to Halite II updates"
                        handleOutboundLinkClicks('subscribe-success','click-to-subscribe','footer')
                    }
            }
            var api_server_url = "{{ site.api_server_url }}";
            var login_server_url = "{{ site.login_server_url }}";
            var logout_server_url = "{{ site.logout_server_url }}";
        </script>

        <script async src='https://www.google-analytics.com/analytics.js'></script>
        <script async src="//platform.twitter.com/widgets.js" charset="utf-8"></script>
        <!-- Bootstrap -->
        <link href="{{ site.baseurl }}/assets/css/main_new.css" rel="stylesheet">
        <link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet">

        <link rel="stylesheet"href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/agate.min.css">
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
        <script>hljs.initHighlightingOnLoad();</script>
        {% if page.additional_css %}
        {% for dep in page.additional_css %}
        <link rel="stylesheet" type="text/css" href="{{ site.baseurl }}/assets/css/{{ dep }}.css"/>
        {% endfor %}
        {% endif %}
    </head>

    <body>
        <div id="fb-root"></div>
        <script>(function(d, s, id) {
                var js, fjs = d.getElementsByTagName(s)[0];
                if (d.getElementById(id)) return;
                js = d.createElement(s); js.id = id;
                js.src = "//connect.facebook.net/en_US/sdk.js#xfbml=1&version=v2.10&appId=492754127756731";
                fjs.parentNode.insertBefore(js, fjs);
            }(document, 'script', 'facebook-jssdk'));</script>
        <div id="message-placeholder"></div>

        {% if page.no_header %}
        {% else %}
        <header class="navbar navbar-inverse navbar-fixed-top unloaded">
            <div class="container-fluid">
                <div class="navbar-header">
                    <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
                        <span class="sr-only">Toggle navigation</span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                    </button>
                    <a class="navbar-brand" href="{{ site.baseurl }}/">
                        <img alt="Halite" src="{{ site.baseurl }}/assets/images/full_logo.svg">
                    </a>
                </div>
                <div id="navbar" class="navbar-collapse collapse">
                    {% if page.hide_nav != true %}
                    <ul class="nav navbar-nav">
                        <li class="{% if page.menu == 'learn' or page.dir contains '/learn-programming-challenge' %} active {% endif %}"><a href="{{ site.baseurl }}/learn-programming-challenge"><span>Learn</span><i class="xline xline-bottom"></i></a></li>
                        <li class="{% if page.menu == 'play' %} active {% endif %}"><a href="{{ site.baseurl }}/play-programming-challenge"><span>Play</span><i class="xline xline-bottom"></i></a></li>
                        <li class="{% if page.menu == 'leaderboard' %} active {% endif %}"><a href="{{ site.baseurl }}/programming-competition-leaderboard"><span>Leaderboard</span><i class="xline xline-bottom"></i></a></li>
                        <li class="{% if page.menu == 'forums' %} active {% endif %}"><a href="https://2017.forums.halite.io" onclick="javascript:handleOutboundLinkClicks('click-external', 'click-forum','spotlight');return true;" target="_blank"><span>Forums</span><i class="xline xline-bottom"></i></a></li>
                    </ul>
                    {% endif %}
                </div>
                <div id="user-profile-bar-container"></div>
                <!-- <div class="mobile-strict-container">
                     <div class="state">
                     <i class="close fa fa-window-close-o"></i>
                     <img src="{{ site.baseurl }}/assets/images/temp/mobile_disable.png">
                     <h2 class="font-headline">Sorry, Not Supported</h2>
                     <p class="upload-state-desc">Login is not supported on mobile devices.<br>Please go to a desktop to sign in or sign up.</p>
                     </div>
                     </div> -->
                <!--/.nav-collapse -->
            </div>
        </header>
        {% endif %}

        <div class="body container-empty">
            {{ content }}
        </div>

        {% if page.no_header %}
        {% else %}
        <footer class="footer container-empty">
            <nav class="navbar">
                <div class="container-fluid">
                    <ul class="nav">
                        <li><a href="{{ site.baseurl }}/about">About</a></li>
                        <li><a href="{{ site.baseurl }}/about/contact">Contact</a></li>
                        <li><a href="{{ site.baseurl }}/about/terms-and-conditions">Terms and Conditions</a></li>
                        <li><a href="{{ site.baseurl }}/about/privacy">Privacy Policy</a></li>
                        <li><a href="/about/frequently-asked-questions">FAQ</a></li>
                        <li><a href="https://2016.halite.io" onclick="javascript:handleOutboundLinkClicks('click-external', 'click-halite1','footer');return true;" target="_blank">Halite I</a></li>
                    </ul>
                </div>
            </nav>
            <div class="footer-below">
                <div class="container-fluid" style="text-align: center">
                    <img src="{{ site.baseurl }}/assets/images/full_logo.svg" class="footer-copy-logo" alt="">
                    <p> &copy; Halite by <a class="base-link" href="https://www.twosigma.com" onclick="javascript:handleOutboundLinkClicks('click-external', 'click-ts','footer');return true;" target="_blank">Two Sigma</a>, 2017. All rights reserved.</p>
                </div>
            </div>
        </footer>
        {% endif %}

        <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
        {% if page.additional_js %}
        {% for dep in page.additional_js %}
        <script src="{{ site.baseurl }}/assets/js/{{ dep }}.js"></script>
        {% endfor %}
        {% endif %}

        <script src="{{ site.baseurl }}/assets/js/bundle.js"></script>

        <!-- Twitter universal website tag code -->
        <script>
            !function(e,t,n,s,u,a){e.twq||(s=e.twq=function(){s.exe?s.exe.apply(s,arguments):s.queue.push(arguments);
            },s.version='1.1',s.queue=[],u=t.createElement(n),u.async=!0,u.src='//static.ads-twitter.com/uwt.js',
                                           a=t.getElementsByTagName(n)[0],a.parentNode.insertBefore(u,a))}(window,document,'script');
            // Insert Twitter Pixel ID and Standard Event data below
            twq('init','nyaxy');
            twq('track','PageView');
        </script>
        <!-- End Twitter universal website tag code -->

        <script>
            var _global = {}
            _global.baseUrl = '{{ site.baseurl }}';

            if(window.localStorage["user_id"] != null)
                {
                    document.getElementById("subscribeFooter").className += ' '+'footer-hidden';
                }

            var minHeightFn = function () {
                var docHeight = window.innerHeight;
                var headerHeight = document.getElementsByTagName('header')[0].offsetHeight;
                var footerHeight = document.getElementsByTagName('footer')[0].offsetHeight;
                var body = document.getElementsByClassName('body')[0];
                var minHeight = docHeight - footerHeight - headerHeight;
                body.style.minHeight = minHeight + 'px';
            };

            $(document).ready(function() {
                minHeightFn();
                $('header').removeClass('unloaded');
                setTimeout(function() {
                    $('.container-empty').addClass('container-loaded');
                }, 250);
            });

            $(window).on('resize', () => {
                minHeightFn();
            });
        </script>

        {% if page.mount_view %}
        <script>
            window.views["{{ page.mount_view }}"]();
        </script>
        {% endif %}

        {% if page.mount_views %}
        <script>
            {% for mount_view in page.mount_views %}
            window.views["{{ mount_view }}"]();
            {% endfor %}
        </script>
        {% endif %}
    </body>

</html>
